<!DOCTYPE html>

<html class="NDPage NDContentPage"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>uvm_callback_defines.svh</title><link rel="stylesheet" type="text/css" href="../styles/main.css" /><script type="text/javascript" src="../styles/main.js"></script><script type="text/javascript">NDLoader.LoadJS("Content", "../styles/");</script></head>

<!-- Generated by Natural Docs, version 2.3 -->

<!-- saved from url=(0016)http://localhost -->

<body onload="NDLoader.OnLoad('Content');">

<script type="text/javascript">var q = window.location.search;if (q.startsWith("?Theme=")){var t = q.slice(7);var e = t.indexOf(";");if (e != -1){  t = t.slice(0, e);  }document.documentElement.classList.add(t + "Theme")}</script>

<a name="Callback_Macros"></a><a name="Topic935"></a><div class="CTopic TSection LSystemVerilog first">
 <div class="CTitle">Callback Macros</div>
 <div class="CBody"><p>These macros are used to register and execute callbacks extending from ~uvm_callbacks~.</p></div>
</div>

<a name="Macros"></a><a name="Topic936"></a><div class="CTopic TGroup LSystemVerilog">
 <div class="CTitle">Macros</div>
</div>

<a name="`uvm_register_cb"></a><a name="Topic937"></a><div class="CTopic TMacro LSystemVerilog">
 <div class="CTitle">`uvm_register_cb</div>
 <div class="CBody"><pre class="CText">`uvm_register_cb(T,CB)</pre><p>Registers the given ~CB~ callback type with the given ~T~ object type. If a type-callback pair is not registered then a warning is issued if an attempt is made to use the pair (add, delete, etc.).</p><p>The registration will typically occur in the component that executes the given type of callback. For instance:</p><pre class="CText">virtual class mycb extends uvm_callback;<br />  virtual function void doit();<br />endclass<br /><br />class my_comp extends uvm_component;<br />  `uvm_register_cb(my_comp,mycb)<br />  ...<br />  task run_phase(uvm_phase phase);<br />    ...<br />    `uvm_do_callbacks(my_comp, mycb, doit())<br />  endtask<br />endclass</pre></div>
</div>

<a name="`uvm_set_super_type"></a><a name="Topic938"></a><div class="CTopic TMacro LSystemVerilog">
 <div class="CTitle">`uvm_set_super_type</div>
 <div class="CBody"><pre class="CText">`uvm_set_super_type(T,ST)</pre><p>Defines the super type of ~T~ to be ~ST~. This allows for derived class objects to inherit typewide callbacks that are registered with the base class.</p><p>The registration will typically occur in the component that executes the given type of callback. For instance:</p><pre class="CText">virtual class mycb extend uvm_callback;<br />  virtual function void doit();<br />endclass<br /><br />class my_comp extends uvm_component;<br />  `uvm_register_cb(my_comp,mycb)<br />  ...<br />  task run_phase(uvm_phase phase);<br />    ...<br />    `uvm_do_callbacks(my_comp, mycb, doit())<br />  endtask<br />endclass<br /><br />class my_derived_comp extends my_comp;<br />  `uvm_set_super_type(my_derived_comp,my_comp)<br />  ...<br />  task run_phase(uvm_phase phase);<br />    ...<br />    `uvm_do_callbacks(my_comp, mycb, doit())<br />  endtask<br />endclass</pre></div>
</div>

<a name="`uvm_do_callbacks"></a><a name="Topic939"></a><div class="CTopic TMacro LSystemVerilog">
 <div class="CTitle">`uvm_do_callbacks</div>
 <div class="CBody"><pre class="CText">`uvm_do_callbacks(T,CB,METHOD)</pre><p>Calls the given ~METHOD~ of all callbacks of type ~CB~ registered with the calling object (i.e. ~this~ object), which is or is based on type ~T~.</p><p>This macro executes all of the callbacks associated with the calling object (i.e. ~this~ object). The macro takes three arguments:</p><ul><li><p>CB is the class type of the callback objects to execute. The class type must have a function signature that matches the METHOD argument.</p></li><li><p>T is the type associated with the callback. Typically, an instance of type T is passed as one the arguments in the ~METHOD~ call.</p></li><li><p>METHOD is the method call to invoke, with all required arguments as if they were invoked directly.</p></li></ul><p>For example, given the following callback class definition:</p><pre class="CText">virtual class mycb extends uvm_cb;<br />  pure function void my_function (mycomp comp, int addr, int data);<br />endclass</pre><p>A component would invoke the macro as</p><pre class="CText">task mycomp::run_phase(uvm_phase phase);<br />   int curr_addr, curr_data;<br />   ...<br />   `uvm_do_callbacks(mycb, mycomp, my_function(this, curr_addr, curr_data))<br />   ...<br />endtask</pre></div>
</div>

<a name="`uvm_do_obj_callbacks"></a><a name="Topic940"></a><div class="CTopic TMacro LSystemVerilog">
 <div class="CTitle">`uvm_do_obj_callbacks</div>
 <div class="CBody"><pre class="CText">`uvm_do_obj_callbacks(T,CB,OBJ,METHOD)</pre><p>Calls the given ~METHOD~ of all callbacks based on type ~CB~ registered with the given object, ~OBJ~, which is or is based on type ~T~.</p><p>This macro is identical to <a href="../index.html#File16:uvm_callback_defines.svh:`uvm_do_callbacks" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,939);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >`uvm_do_callbacks</a> macro, but it has an additional ~OBJ~ argument to allow the specification of an external object to associate the callback with. For example, if the callbacks are being applied in a sequence, ~OBJ~ could be specified as the associated sequencer or parent sequence.</p><pre class="CText">...<br />`uvm_do_callbacks(mycb, mycomp, seqr, my_function(seqr, curr_addr, curr_data))<br />...</pre></div>
</div>

<a name="`uvm_do_callbacks_exit_on"></a><a name="Topic941"></a><div class="CTopic TMacro LSystemVerilog">
 <div class="CTitle">`uvm_do_callbacks_exit_on</div>
 <div class="CBody"><pre class="CText">`uvm_do_callbacks_exit_on(T,CB,METHOD,VAL)</pre><p>Calls the given ~METHOD~ of all callbacks of type ~CB~ registered with the calling object (i.e. ~this~ object), which is or is based on type ~T~, returning upon the first callback returning the bit value given by ~VAL~.</p><p>This macro executes all of the callbacks associated with the calling object (i.e. ~this~ object). The macro takes three arguments:</p><ul><li><p>CB is the class type of the callback objects to execute. The class type must have a function signature that matches the METHOD argument.</p></li><li><p>T is the type associated with the callback. Typically, an instance of type T is passed as one the arguments in the ~METHOD~ call.</p></li><li><p>METHOD is the method call to invoke, with all required arguments as if they were invoked directly.</p></li><li><p>VAL, if 1, says return upon the first callback invocation that returns 1. If 0, says return upon the first callback invocation that returns 0.</p></li></ul><p>For example, given the following callback class definition:</p><pre class="CText">virtual class mycb extends uvm_cb;<br />  pure function bit drop_trans (mycomp comp, my_trans trans);<br />endclass</pre><p>A component would invoke the macro as</p><pre class="CText">task mycomp::run_phase(uvm_phase phase);<br />   my_trans trans;<br />   forever begin<br />     get_port.get(trans);<br />     if(do_callbacks(trans) == 0)<br />       uvm_report_info(&quot;DROPPED&quot;,{&quot;trans dropped: %s&quot;,trans.convert2string()});<br />     else<br />       // execute transaction<br />   end<br />endtask<br />function bit do_callbacks(my_trans);<br />  // Returns 0 if drop happens and 1 otherwise<br />  `uvm_do_callbacks_exit_on(mycomp, mycb, extobj, drop_trans(this,trans), 1)<br />endfunction</pre></div>
</div>

<a name="`uvm_do_obj_callbacks_exit_on"></a><a name="Topic942"></a><div class="CTopic TMacro LSystemVerilog last">
 <div class="CTitle">`uvm_do_obj_callbacks_exit_on</div>
 <div class="CBody"><pre class="CText">`uvm_do_obj_callbacks_exit_on(T,CB,OBJ,METHOD,VAL)</pre><p>Calls the given ~METHOD~ of all callbacks of type ~CB~ registered with the given object ~OBJ~, which must be or be based on type ~T~, and returns upon the first callback that returns the bit value given by ~VAL~. It is exactly the same as the <a href="../index.html#File16:uvm_callback_defines.svh:`uvm_do_callbacks_exit_on" target="_top" onmouseover="NDContentPage.OnLinkMouseOver(event,941);" onmouseout="NDContentPage.OnLinkMouseOut(event);" >`uvm_do_callbacks_exit_on</a> but has a specific object instance (instead of the implicit this instance) as the third argument.</p><pre class="CText">...<br /> // Exit if a callback returns a 1<br /> `uvm_do_callbacks_exit_on(mycomp, mycb, seqr, drop_trans(seqr,trans), 1)<br />...</pre></div>
</div>

</body></html>